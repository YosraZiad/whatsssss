(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[275],{23512:(e,t,r)=>{Promise.resolve().then(r.bind(r,96551))},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var s=r(95155);r(12115);var a=r(99708),o=r(74466),n=r(59434);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:t,variant:r,size:o,asChild:i=!1,...d}=e,c=i?a.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,n.cn)(l({variant:r,size:o,className:t})),...d})}},44838:(e,t,r)=>{"use strict";r.d(t,{I:()=>c,SQ:()=>d,_2:()=>u,hO:()=>m,lp:()=>h,mB:()=>p,rI:()=>l,ty:()=>i});var s=r(95155);r(12115);var a=r(48698),o=r(5196),n=r(59434);function l(e){let{...t}=e;return(0,s.jsx)(a.bL,{"data-slot":"dropdown-menu",...t})}function i(e){let{...t}=e;return(0,s.jsx)(a.l9,{"data-slot":"dropdown-menu-trigger",...t})}function d(e){let{className:t,sideOffset:r=4,...o}=e;return(0,s.jsx)(a.ZL,{children:(0,s.jsx)(a.UC,{"data-slot":"dropdown-menu-content",sideOffset:r,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...o})})}function c(e){let{...t}=e;return(0,s.jsx)(a.YJ,{"data-slot":"dropdown-menu-group",...t})}function u(e){let{className:t,inset:r,variant:o="default",...l}=e;return(0,s.jsx)(a.q7,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":o,className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l})}function m(e){let{className:t,children:r,checked:l,...i}=e;return(0,s.jsxs)(a.H_,{"data-slot":"dropdown-menu-checkbox-item",className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),checked:l,...i,children:[(0,s.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(a.VF,{children:(0,s.jsx)(o.A,{className:"size-4"})})}),r]})}function h(e){let{className:t,inset:r,...o}=e;return(0,s.jsx)(a.JU,{"data-slot":"dropdown-menu-label","data-inset":r,className:(0,n.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...o})}function p(e){let{className:t,...r}=e;return(0,s.jsx)(a.wv,{"data-slot":"dropdown-menu-separator",className:(0,n.cn)("bg-border -mx-1 my-1 h-px",t),...r})}},46102:(e,t,r)=>{"use strict";r.d(t,{Bc:()=>n,ZI:()=>d,k$:()=>i,m_:()=>l});var s=r(95155);r(12115);var a=r(89613),o=r(59434);function n(e){let{delayDuration:t=0,...r}=e;return(0,s.jsx)(a.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...r})}function l(e){let{...t}=e;return(0,s.jsx)(n,{children:(0,s.jsx)(a.bL,{"data-slot":"tooltip",...t})})}function i(e){let{...t}=e;return(0,s.jsx)(a.l9,{"data-slot":"tooltip-trigger",...t})}function d(e){let{className:t,sideOffset:r=0,children:n,...l}=e;return(0,s.jsx)(a.ZL,{children:(0,s.jsxs)(a.UC,{"data-slot":"tooltip-content",sideOffset:r,className:(0,o.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...l,children:[n,(0,s.jsx)(a.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var s=r(52596),a=r(39688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},74466:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var s=r(52596);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=s.$,n=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return o(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:n,defaultVariants:l}=t,i=Object.keys(n).map(e=>{let t=null==r?void 0:r[e],s=null==l?void 0:l[e];if(null===t)return null;let o=a(t)||a(s);return n[e][o]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return o(e,i,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},79323:(e,t,r)=>{"use strict";r.d(t,{u:()=>a});var s=r(23464);class a{static async login(e){try{return(await s.A.post("".concat(this.BASE_URL,"/auth/login"),{userNameOrEmailAddress:e.userNameOrEmailAddress,password:e.password,rememberMe:e.rememberMe},{headers:{"Content-Type":"application/json"}})).data}catch(e){var t,r,a;throw console.error("AuthService login error:",e),Error((null==(a=e.response)||null==(r=a.data)||null==(t=r.error)?void 0:t.message)||"فشل في الاتصال بالخادم")}}static saveToken(e,t,r){if(localStorage.setItem(this.TOKEN_KEY,e),t&&localStorage.setItem(this.REFRESH_TOKEN_KEY,t),r){let e=Date.now()+1e3*r;localStorage.setItem(this.TOKEN_EXPIRY_KEY,e.toString())}}static getToken(){{let e=localStorage.getItem(this.TOKEN_KEY);return(console.log("\uD83D\uDD11 AuthService.getToken() called:",{tokenExists:!!e,tokenPreview:(null==e?void 0:e.substring(0,30))+"...",isExpired:!!e&&this.isTokenExpired()}),e&&this.isTokenExpired())?(console.log("⚠️ Token expired, attempting refresh..."),null):e}}static saveUser(e){localStorage.setItem(this.USER_KEY,JSON.stringify(e))}static getUser(){{let e=localStorage.getItem(this.USER_KEY);return e?JSON.parse(e):null}}static logout(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY),localStorage.removeItem(this.TOKEN_EXPIRY_KEY),localStorage.removeItem(this.USER_KEY)}static getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}static isTokenExpired(){{let e=localStorage.getItem(this.TOKEN_EXPIRY_KEY);if(e)return Date.now()>parseInt(e)}return!1}static getTokenExpiryTime(){{let e=localStorage.getItem(this.TOKEN_EXPIRY_KEY);return e?parseInt(e):null}}static isAuthenticated(){return null!==this.getToken()&&!this.isTokenExpired()}static getAuthHeaders(){let e=this.getToken();return e?{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}:{"Content-Type":"application/json"}}}a.BASE_URL="/api",a.TOKEN_KEY="authToken",a.REFRESH_TOKEN_KEY="refreshToken",a.TOKEN_EXPIRY_KEY="tokenExpiry",a.USER_KEY="userInfo",s.A.interceptors.request.use(e=>{let t=a.getToken();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),s.A.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(a.logout(),window.location.href="/login"),Promise.reject(e)})},90697:(e,t,r)=>{"use strict";r.d(t,{FH:()=>l,uE:()=>o,xU:()=>i});var s=r(23464),a=r(79323);let o=(()=>{let e=s.A.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json"}});return e.interceptors.request.use(e=>{var t;let r=a.u.getToken();return console.log("\uD83D\uDD0D Token retrieved:",r?"Found":"Not found",(null==r?void 0:r.substring(0,20))+"..."),r?(e.headers.Authorization="Bearer ".concat(r),console.log("✅ Authorization header set")):console.log("❌ No token found, Authorization header not set"),console.log("API Request:",{method:null==(t=e.method)?void 0:t.toUpperCase(),url:e.url,headers:e.headers,data:e.data}),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e))),e.interceptors.response.use(e=>(console.log("API Response:",{status:e.status,statusText:e.statusText,data:e.data}),e),e=>{var t;if(console.error("Response interceptor error:",e),(null==(t=e.response)?void 0:t.status)===401){console.log("Unauthorized access, logging out..."),a.u.logout();{let e=window.location.pathname.split("/")[1]||"ar";window.location.href="/".concat(e,"/login")}}return Promise.reject(e)}),e})(),n=s.A.create({baseURL:"https://neosending.com/api",timeout:15e3,headers:{"Content-Type":"application/json",Accept:"text/plain","User-Agent":"NeoSend-Client/1.0"}});n.interceptors.request.use(e=>{var t;let r=a.u.getToken();return r&&(e.headers.Authorization="Bearer ".concat(r)),console.log("NeoSend API Request:",{method:null==(t=e.method)?void 0:t.toUpperCase(),url:e.url,headers:e.headers}),e},e=>(console.error("NeoSend request error:",e),Promise.reject(e))),n.interceptors.response.use(e=>(console.log("NeoSend API Response:",{status:e.status,statusText:e.statusText,data:e.data}),e),e=>(console.error("NeoSend response error:",e),Promise.reject(e)));let l={get:(e,t)=>o.get(e,t),post:(e,t,r)=>o.post(e,t,r),put:(e,t,r)=>o.put(e,t,r),delete:(e,t)=>o.delete(e,t),patch:(e,t,r)=>o.patch(e,t,r)},i={get:(e,t)=>n.get(e,t),post:(e,t,r)=>n.post(e,t,r),put:(e,t,r)=>n.put(e,t,r),delete:(e,t)=>n.delete(e,t)}},92657:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},96551:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var s=r(95155),a=r(17652),o=r(72797),n=r(12115),l=r(30285),i=r(6874),d=r.n(i),c=r(46102),u=r(44838),m=r(19946);let h=(0,m.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),p=(0,m.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),x=(0,m.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),g=(0,m.A)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),f=(0,m.A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var v=r(92657);let b=(0,m.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),y=(0,m.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),j=(0,m.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),N=(0,m.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function k(e){let{customers:t=[],loading:r=!1,error:i=null,onView:m,onEdit:k,onDelete:w,onRefresh:E}=e,_=(0,a.c3)("Customers"),A=(0,o.Ym)(),[S,T]=(0,n.useState)(""),z=(0,n.useMemo)(()=>S?t.filter(e=>[e.fullName,e.companyName,e.mobileNumber,e.masterMobileNumber].join(" ").toLowerCase().includes(S.toLowerCase())):t,[S,t]),C=[{key:"fullName",label:_("name")},{key:"companyName",label:_("company")},{key:"mobileNumber",label:_("mobile")},{key:"masterMobileNumber",label:_("master_mobile")}],[I,K]=(0,n.useState)(C.map(e=>e.key)),[R,M]=(0,n.useState)(!1),[O,Y]=(0,n.useState)(1),P=Math.ceil(z.length/10),U=(0,n.useMemo)(()=>z.slice((O-1)*10,10*O),[z,O,10]);return(0,s.jsxs)("div",{className:"w-full max-w-6xl mx-auto p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[(0,s.jsx)("div",{className:"flex-1 order-2 sm:order-1",children:(0,s.jsxs)("div",{className:"relative w-full sm:w-96",children:[(0,s.jsx)("input",{type:"text",placeholder:_("search_customers")||"Search...",value:S,onChange:e=>T(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-[#2563eb] focus:ring-2 focus:ring-[#2563eb]/20 transition outline-none bg-white dark:bg-gray-900 dark:text-gray-100 shadow-sm"}),(0,s.jsx)(h,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 h-5 w-5"})]})}),(0,s.jsxs)("div",{className:"flex gap-2 items-center order-1 sm:order-2 justify-end w-full sm:w-auto",children:[(0,s.jsx)(d(),{href:"/".concat(A,"/customers/add"),passHref:!0,children:(0,s.jsxs)(l.$,{variant:"default",className:"bg-[#2563eb] hover:bg-[#1d4ed8] text-white h-10 px-4 rounded-lg flex items-center gap-2",children:[(0,s.jsx)(p,{className:"h-4 w-4"}),_("add_customer")]})}),(0,s.jsx)(c.Bc,{children:(0,s.jsxs)(c.m_,{children:[(0,s.jsx)(c.k$,{asChild:!0,children:(0,s.jsx)(l.$,{variant:"outline",size:"icon",className:"border-gray-200 dark:border-gray-700 h-10 w-10 rounded-lg flex items-center justify-center",onClick:E,"aria-label":_("refresh"),children:(0,s.jsx)(x,{className:"h-5 w-5 text-[#2563eb] dark:text-[#60a5fa]"})})}),(0,s.jsx)(c.ZI,{side:"bottom",children:_("refresh_tooltip")})]})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.$,{variant:"outline",size:"icon",className:"border-gray-200 dark:border-gray-700 h-10 w-10 rounded-lg flex items-center justify-center",onClick:()=>M(e=>!e),"aria-label":_("customize_columns"),children:(0,s.jsx)(g,{className:"h-5 w-5 text-[#2563eb] dark:text-[#60a5fa]"})}),R&&(0,s.jsxs)("div",{className:"absolute z-20 right-0 mt-2 w-48 bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-700 rounded-lg shadow-lg p-2",children:[(0,s.jsx)("div",{className:"font-bold mb-2 text-[#2563eb] dark:text-[#60a5fa]",children:_("customize_columns_title")}),C.map(e=>(0,s.jsxs)("label",{className:"flex items-center gap-2 py-1 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:I.includes(e.key),onChange:()=>{K(t=>t.includes(e.key)?t.filter(t=>t!==e.key):[...t,e.key])}}),(0,s.jsx)("span",{className:"dark:text-gray-100",children:e.label})]},e.key))]})]})]})]}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg overflow-x-auto border border-gray-100 dark:border-gray-700",children:r?(0,s.jsx)("div",{className:"py-10 text-center text-[#2563eb] font-semibold",children:_("loading_customers")||"Loading customers..."}):i?(0,s.jsxs)("div",{className:"py-10 text-center text-red-500",children:[_("error"),": ",i]}):0===z.length?(0,s.jsx)("div",{className:"py-10 text-center text-gray-400",children:_("no_customers_found")||"No customers found."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("table",{className:"min-w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-[#2563eb]/10 text-[#2563eb]",children:[C.map(e=>I.includes(e.key)&&(0,s.jsx)("th",{className:"px-6 py-3 text-left font-semibold",children:e.label},e.key)),(0,s.jsx)("th",{className:"px-6 py-3 text-left font-semibold",children:_("actions")})]})}),(0,s.jsx)("tbody",{children:U.map(e=>(0,s.jsxs)("tr",{className:"border-t hover:bg-[#2563eb]/5 transition",children:[I.includes("fullName")&&(0,s.jsx)("td",{className:"px-6 py-2",children:e.fullName}),I.includes("companyName")&&(0,s.jsx)("td",{className:"px-6 py-2",children:e.companyName}),I.includes("mobileNumber")&&(0,s.jsx)("td",{className:"px-6 py-2",children:e.mobileNumber}),I.includes("masterMobileNumber")&&(0,s.jsx)("td",{className:"px-6 py-2",children:e.masterMobileNumber}),(0,s.jsx)("td",{className:"px-6 py-2",children:(0,s.jsxs)(u.rI,{children:[(0,s.jsx)(u.ty,{asChild:!0,children:(0,s.jsx)(l.$,{variant:"ghost",size:"icon",className:"hover:bg-[#2563eb]/10",children:(0,s.jsx)(f,{className:"h-5 w-5 text-[#2563eb]"})})}),(0,s.jsxs)(u.SQ,{align:"end",className:"rounded-lg shadow border border-gray-100",children:[(0,s.jsxs)(u._2,{onClick:()=>null==m?void 0:m(e),className:"flex items-center gap-2",children:[(0,s.jsx)(v.A,{className:"h-4 w-4 text-[#2563eb]"}),(0,s.jsx)("span",{className:"text-[#2563eb]",children:_("view")})]}),(0,s.jsxs)(u._2,{onClick:()=>null==k?void 0:k(e),className:"flex items-center gap-2",children:[(0,s.jsx)(b,{className:"h-4 w-4 text-[#f59e42]"}),(0,s.jsx)("span",{className:"text-[#f59e42]",children:_("edit")})]}),(0,s.jsxs)(u._2,{onClick:()=>null==w?void 0:w(e.id),className:"flex items-center gap-2 text-red-600",children:[(0,s.jsx)(y,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:_("delete")})]})]})]})})]},e.id))})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 px-4 py-3 border-t bg-[#f9fafb] rounded-b-xl",children:[(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[_("showing")," ",(O-1)*10+1," - ",Math.min(10*O,z.length)," ",_("of")," ",z.length," ",_("customers")]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(l.$,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8 flex items-center justify-center",disabled:1===O,onClick:()=>Y(e=>Math.max(1,e-1)),"aria-label":_("previous"),children:(0,s.jsx)(j,{className:"h-5 w-5"})}),Array.from({length:P},(e,t)=>(0,s.jsx)(l.$,{variant:O===t+1?"default":"ghost",size:"icon",className:"rounded-full h-8 w-8 flex items-center justify-center ".concat(O===t+1?"bg-[#2563eb] text-white":""),onClick:()=>Y(t+1),children:t+1},t)),(0,s.jsx)(l.$,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8 flex items-center justify-center",disabled:O===P||0===P,onClick:()=>Y(e=>Math.min(P,e+1)),"aria-label":_("next"),children:(0,s.jsx)(N,{className:"h-5 w-5"})})]})]})]})})]})}var w=r(90697),E=r(35695),_=r(13568);function A(){let e=(0,a.c3)("Customers"),t=(0,o.Ym)(),{customers:r=[],loading:l,error:i,refetch:d}=function(){let[e,t]=(0,n.useState)({customers:[],loading:!0,error:null,totalCount:0}),r=async()=>{try{t(e=>({...e,loading:!0,error:null}));let e=(await w.uE.get("/customers")).data;if(!e.success)throw Error(e.error||"API request failed");t({customers:e.items||[],loading:!1,error:null,totalCount:e.totalCount||0})}catch(s){var e,r;console.error("Fetch Error:",s),t({customers:[],loading:!1,error:(null==(r=s.response)||null==(e=r.data)?void 0:e.error)||s.message||"Unknown error",totalCount:0})}};return(0,n.useEffect)(()=>{r()},[]),{...e,refetch:r}}(),c=(0,E.useRouter)(),u=async t=>{try{let r=(await w.uE.delete("/customers/".concat(t))).data;if(!r.success)throw Error(r.error||e("deleteError"));_.Ay.success(e("deleteSuccess")),await d()}catch(a){var r,s;console.error("Error deleting customer:",a);let t=(null==(s=a.response)||null==(r=s.data)?void 0:r.error)||a.message||e("deleteError");throw _.Ay.error(t),a}};return(0,s.jsxs)("div",{className:"container mx-auto py-10 px-4",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-4 text-black pl-4",style:{letterSpacing:"0.01em",lineHeight:"1.2"},children:e("title")}),(0,s.jsx)("div",{className:"mt-0",children:(0,s.jsx)(k,{customers:r,loading:l,error:i,onView:e=>{c.push("/".concat(t,"/customers/").concat(e.id))},onEdit:e=>{c.push("/".concat(t,"/customers/").concat(e.id,"/edit"))},onDelete:u})})]})}}},e=>{e.O(0,[803,150,641,794,665,568,264,613,441,964,358],()=>e(e.s=23512)),_N_E=e.O()}]);