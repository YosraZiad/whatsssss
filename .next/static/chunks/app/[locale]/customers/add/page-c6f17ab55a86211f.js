(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{35169:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,r,s)=>{"use strict";var t=s(18999);s.o(t,"usePathname")&&s.d(r,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})},59434:(e,r,s)=>{"use strict";s.d(r,{cn:()=>i});var t=s(52596),a=s(39688);function i(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}},62523:(e,r,s)=>{"use strict";s.d(r,{p:()=>i});var t=s(95155);s(12115);var a=s(59434);function i(e){let{className:r,type:s,...i}=e;return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...i})}},82792:(e,r,s)=>{"use strict";s.d(r,{N:()=>n});var t=s(95155),a=s(62177),i=s(17652),l=s(62523),d=s(85057),o=s(12115);function n(e){let{initialData:r,onSubmit:s,onSuccess:n,onError:u,onCancel:c,loading:m=!1}=e,b=(0,i.c3)("Customers"),{register:x,handleSubmit:p,formState:{errors:h}}=(0,a.mN)({defaultValues:r}),[f,g]=(0,o.useState)(!1),N=async e=>{g(!0);try{await s(e),n&&n()}catch(e){console.error("Form submission error:",e),u&&u(e instanceof Error?e.message:String(e))}finally{g(!1)}},w=!!r;return(0,t.jsxs)("form",{onSubmit:p(N),className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(d.J,{htmlFor:"fullName",className:"text-black dark:text-white",children:[b("fullName")," *"]}),(0,t.jsx)(l.p,{id:"fullName",...x("fullName",{required:b("validation.required")})}),h.fullName&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:h.fullName.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(d.J,{htmlFor:"mobileNumber",className:"text-black dark:text-white",children:[b("mobileNumber")," *"]}),(0,t.jsx)(l.p,{id:"mobileNumber",...x("mobileNumber",{required:b("validation.required"),pattern:{value:/^[0-9]+$/,message:b("errors.invalidMobile")||"Invalid mobile number"}})}),h.mobileNumber&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:h.mobileNumber.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(d.J,{htmlFor:"userName",className:"text-black dark:text-white",children:[b("userName",{defaultValue:"Username"})," *"]}),(0,t.jsx)(l.p,{id:"userName",...x("userName",{required:b("validation.required")})}),h.userName&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:h.userName.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(d.J,{htmlFor:"password",className:"text-black dark:text-white",children:[b("password",{defaultValue:"Password"})," *"]}),(0,t.jsx)(l.p,{id:"password",type:"password",...x("password",{required:b("validation.required"),minLength:{value:8,message:b("errors.passwordMinLength")},validate:{hasLowercase:e=>/[a-z]/.test(e)||b("errors.passwordLowercase"),hasUppercase:e=>/[A-Z]/.test(e)||b("errors.passwordUppercase"),hasSpecial:e=>/[!@#$%^&*]/.test(e)||b("errors.passwordSpecial")}})}),h.password&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:h.password.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(d.J,{htmlFor:"masterMobileNumber",className:"text-black dark:text-white",children:[b("masterMobileNumber")," (",b("optional",{defaultValue:"Optional"}),")"]}),(0,t.jsx)(l.p,{id:"masterMobileNumber",...x("masterMobileNumber")})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-6 justify-end",children:[(0,t.jsx)("button",{type:"submit",className:"h-10 px-4 rounded-lg bg-[#2563eb] hover:bg-[#1d4ed8] text-white font-semibold transition flex items-center gap-2",disabled:f||m,title:w?b("update"):b("create"),children:f||m?b("submitting",{defaultValue:"Submitting..."}):w?b("update",{defaultValue:"Update"}):b("create",{defaultValue:"Create"})}),(0,t.jsx)("button",{type:"button",onClick:()=>c&&c(),className:"h-10 px-4 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 dark:bg-gray-800 dark:text-gray-200 font-semibold transition flex items-center gap-2",disabled:f||m,title:b("cancel"),children:b("cancel",{defaultValue:"Cancel"})})]})]})}},84353:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var t=s(95155),a=s(17652),i=s(72797),l=s(82792),d=s(35695),o=s(13568),n=s(35169),u=s(6874),c=s.n(u);function m(){let e=(0,a.c3)("Customers"),r=(0,i.Ym)(),s=(0,d.useRouter)(),u=async t=>{try{let a={...t,userName:t.userName||m(t.fullName),password:t.password||b()},i=await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),l=await i.json();if(!i.ok)throw Error(l.error||e("submissionFailed"));o.Ay.success(e("customerCreatedSuccessfully")),s.push("/".concat(r,"/customers"))}catch(r){o.Ay.error(r instanceof Error?r.message:e("unknownError"))}},m=e=>e.toLowerCase().replace(/\s+/g,"")+Math.floor(1e3+9e3*Math.random()),b=()=>Math.random().toString(36).slice(-8);return(0,t.jsx)("div",{className:"flex justify-center items-center min-h-[80vh] bg-[#f9fafb] dark:bg-gray-950 px-2",children:(0,t.jsxs)("div",{className:"w-full max-w-xl bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-800",children:[(0,t.jsxs)("div",{className:"flex items-center mb-6 gap-2",children:[(0,t.jsx)(c(),{href:"/".concat(r,"/customers"),className:"text-[#2563eb] hover:text-[#1d4ed8] transition",children:(0,t.jsx)(n.A,{className:"h-5 w-5"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-[#2563eb] dark:text-[#60a5fa]",children:e("addCustomer")})]}),(0,t.jsx)(l.N,{onSubmit:u,onCancel:()=>s.push("/".concat(r,"/customers")),showUsernameField:!0,showPasswordField:!0})]})})}},85057:(e,r,s)=>{"use strict";s.d(r,{J:()=>l});var t=s(95155);s(12115);var a=s(40968),i=s(59434);function l(e){let{className:r,...s}=e;return(0,t.jsx)(a.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...s})}},97154:(e,r,s)=>{Promise.resolve().then(s.bind(s,84353))}},e=>{e.O(0,[803,150,665,568,72,441,964,358],()=>e(e.s=97154)),_N_E=e.O()}]);