(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{369:(e,s,t)=>{Promise.resolve().then(t.bind(t,68860))},12486:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},19946:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var r=t(12115);let a=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},n=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:a=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:p,...u}=e;return(0,r.createElement)("svg",{ref:s,...i,width:a,height:a,stroke:t,strokeWidth:o?24*Number(d)/Number(a):d,className:n("lucide",l),...!c&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(u)&&{"aria-hidden":"true"},...u},[...p.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(c)?c:[c]])}),o=(e,s)=>{let t=(0,r.forwardRef)((t,i)=>{let{className:o,...l}=t;return(0,r.createElement)(d,{ref:i,iconNode:s,className:n("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...l})});return t.displayName=a(e),t}},24357:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},26126:(e,s,t)=>{"use strict";t.d(s,{E:()=>o});var r=t(95155);t(12115);var a=t(99708),n=t(74466),i=t(59434);let d=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:s,variant:t,asChild:n=!1,...o}=e,l=n?a.DX:"span";return(0,r.jsx)(l,{"data-slot":"badge",className:(0,i.cn)(d({variant:t}),s),...o})}},30285:(e,s,t)=>{"use strict";t.d(s,{$:()=>o});var r=t(95155);t(12115);var a=t(99708),n=t(74466),i=t(59434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:s,variant:t,size:n,asChild:o=!1,...l}=e,c=o?a.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,i.cn)(d({variant:t,size:n,className:s})),...l})}},40968:(e,s,t)=>{"use strict";t.d(s,{b:()=>d});var r=t(12115),a=t(63655),n=t(95155),i=r.forwardRef((e,s)=>(0,n.jsx)(a.sG.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var d=i},59434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(52596),a=t(39688);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},62523:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var r=t(95155);t(12115);var a=t(59434);function n(e){let{className:s,type:t,...n}=e;return(0,r.jsx)("input",{type:t,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...n})}},66695:(e,s,t)=>{"use strict";t.d(s,{BT:()=>o,Wu:()=>l,ZB:()=>d,Zp:()=>n,aR:()=>i});var r=t(95155);t(12115);var a=t(59434);function n(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function i(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function d(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",s),...t})}function o(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",s),...t})}function l(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",s),...t})}},68860:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(95155),a=t(12115),n=t(30285),i=t(62523),d=t(66695),o=t(85057),l=t(88539),c=t(26126),p=t(69803),u=t(12486),h=t(24357);let x=(0,t(19946).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var g=t(56671);function m(){let[e,s]=(0,a.useState)("web"),[t,m]=(0,a.useState)("W3b_TeSt"),[v,f]=(0,a.useState)("Whatsapp_App"),[b,y]=(0,a.useState)("Whatsapp"),[j,w]=(0,a.useState)("password"),[N,k]=(0,a.useState)(""),[_,A]=(0,a.useState)(!1),T=async()=>{A(!0),k("");try{let s,r=new URLSearchParams({grant_type:j,username:e,password:t,client_id:v,scope:b});console.log("Sending token request with data:",Object.fromEntries(r));let a=btoa("".concat(v,":")),n=await fetch("https://neosending.com/connect/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Basic ".concat(a)},body:r.toString()}),i=await n.text();try{s=JSON.parse(i)}catch(e){s=i}k(JSON.stringify({status:n.status,statusText:n.statusText,headers:Object.fromEntries(n.headers.entries()),data:s},null,2))}catch(e){k(JSON.stringify({error:!0,message:e.message,type:e.name},null,2))}finally{A(!1)}},S=async()=>{A(!0),k("");try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userNameOrEmailAddress:e,password:t,rememberMe:!1})}),r=await s.json();k(JSON.stringify(r,null,2))}catch(e){k("خطأ: ".concat(e.message))}finally{A(!1)}};return(0,r.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"w-6 h-6"}),(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"اختبار Token Endpoint"})]}),(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,r.jsxs)(d.Zp,{children:[(0,r.jsx)(d.aR,{children:(0,r.jsx)(d.ZB,{children:"إعدادات Token Request"})}),(0,r.jsxs)(d.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{children:"الإعدادات الشائعة"}),(0,r.jsx)("div",{className:"grid gap-2",children:[{name:"WhatsApp Token (من Postman)",clientId:"Whatsapp_App",scope:"Whatsapp",grantType:"password"},{name:"WhatsApp + API Scope",clientId:"Whatsapp_App",scope:"Whatsapp api",grantType:"password"},{name:"API Only",clientId:"Whatsapp_App",scope:"api",grantType:"password"},{name:"Full Access",clientId:"Whatsapp_App",scope:"Whatsapp api offline_access",grantType:"password"}].map((e,s)=>(0,r.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{f(e.clientId),y(e.scope),w(e.grantType)},className:"justify-start",children:[(0,r.jsx)(c.E,{variant:"secondary",className:"mr-2",children:e.grantType}),e.name]},s))})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"username",children:"Username"}),(0,r.jsx)(i.p,{id:"username",value:e,onChange:e=>s(e.target.value),placeholder:"اسم المستخدم"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"password",children:"Password"}),(0,r.jsx)(i.p,{id:"password",type:"password",value:t,onChange:e=>m(e.target.value),placeholder:"كلمة المرور"})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"clientId",children:"Client ID"}),(0,r.jsx)(i.p,{id:"clientId",value:v,onChange:e=>f(e.target.value),placeholder:"client_id"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"grantType",children:"Grant Type"}),(0,r.jsxs)("select",{id:"grantType",value:j,onChange:e=>w(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,r.jsx)("option",{value:"password",children:"password"}),(0,r.jsx)("option",{value:"client_credentials",children:"client_credentials"}),(0,r.jsx)("option",{value:"authorization_code",children:"authorization_code"}),(0,r.jsx)("option",{value:"refresh_token",children:"refresh_token"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"scope",children:"Scope"}),(0,r.jsx)(i.p,{id:"scope",value:b,onChange:e=>y(e.target.value),placeholder:"api offline_access"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{children:"Request Body (form-urlencoded)"}),(0,r.jsxs)("code",{className:"block p-2 bg-muted rounded text-sm",children:["grant_type=",j,(0,r.jsx)("br",{}),"username=",e,(0,r.jsx)("br",{}),"password=***",(0,r.jsx)("br",{}),"client_id=",v,(0,r.jsx)("br",{}),"scope=",b]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.$,{onClick:T,disabled:_||!e||!t,className:"flex-1",children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),_?"جاري الاختبار...":"اختبار /connect/token"]}),(0,r.jsxs)(n.$,{onClick:S,disabled:_||!e||!t,variant:"outline",className:"flex-1",children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),_?"جاري الاختبار...":"عبر API Route"]})]})]})]}),(0,r.jsxs)(d.Zp,{children:[(0,r.jsx)(d.aR,{children:(0,r.jsx)(d.ZB,{children:"النتيجة"})}),(0,r.jsx)(d.Wu,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(o.J,{children:"Response"}),N&&(0,r.jsxs)(n.$,{size:"sm",variant:"outline",onClick:()=>{navigator.clipboard.writeText(N),g.o.success("تم نسخ النص!")},children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"نسخ"]})]}),(0,r.jsx)(l.T,{value:N,readOnly:!0,placeholder:"ستظهر النتيجة هنا...",className:"min-h-[400px] font-mono text-sm"})]})})]})]}),(0,r.jsxs)(d.Zp,{children:[(0,r.jsx)(d.aR,{children:(0,r.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(x,{className:"w-5 h-5"}),"معلومات مهمة"]})}),(0,r.jsx)(d.Wu,{children:(0,r.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Endpoint:"})," https://neosending.com/connect/token"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Method:"})," POST"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Content-Type:"})," application/x-www-form-urlencoded"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Accept:"})," application/json"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Grant Types:"})," password, client_credentials, authorization_code"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Common Scopes:"})," api, openid, profile, offline_access"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Response:"})," JSON object with access_token, token_type, expires_in"]})]})})]})]})}},69803:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},85057:(e,s,t)=>{"use strict";t.d(s,{J:()=>i});var r=t(95155);t(12115);var a=t(40968),n=t(59434);function i(e){let{className:s,...t}=e;return(0,r.jsx)(a.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},88539:(e,s,t)=>{"use strict";t.d(s,{T:()=>i});var r=t(95155),a=t(12115),n=t(59434);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...a})});i.displayName="Textarea"}},e=>{e.O(0,[803,774,441,964,358],()=>e(e.s=369)),_N_E=e.O()}]);